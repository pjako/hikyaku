prefix gen_
gentype i32 i32
gentype u32 u32
gentype f32 f32

enum Class : u32 {
  fighter = 0,
  mage = 1,
  summoner = 2
}

struct Achievements {
  u32 questsCompleted;
  u32 bossesDefeated;
  u16 secretsFound;
  u8 rank;
  u8 prestigeLevel;
}

struct PlayerState {
  u32 yaw? : 10;
  i32 posX? : 20;
  i32 posY? : 20;
  i32 posZ? : 20;
}

// a bitfield of a specific size with defined flags
// allowed it u8, u16, u32, u64
bitset PlayerFlags : u8 {
  isBanned, // 1 << 0
  emailConfirmed, // 1 << 1
  isAdmin // 1 << 2
}

// In C code this would look like this
//
// typedef enum PlayerFlags {
//   PlayerFlags_isBanned = 1 << 0;
//   PlayerFlags_emailConfirmed = 1 << 1;
//   PlayerFlags_isAdmin = 1 << 2;
// } PlayerFlags;
//
// typedef uint8_t playerFlagsBitField;

message Player {
  u32 id = 1;
  PlayerFlags flags = 2;
  Class class = 3;
  Achievements[] achievements = 4;
  u32 extraSeq3 = 7;

  // Maybe have this as key value pair
  map<string, Achievements> map = 8;

// In C code this map would look like this
// struct <prefix>StringAchievementPair {
//   string key;
//   Achievement value;
// }
// struct <prefix>StringAchievementPairArray {
//   uint32_t count;
//   <prefix>StringAchievementPair* items;
// }
// The player message would look like this in C
// struct <prefix>Player {
//   /*...*/
//   <prefix>StringAchievementPairArray map;
//   /*...*/
// }


  // deprecated properties
  [deprecated] u32 extraSeq2 = 6;
  // removed properties
  [removed] u32 extraSeq = 5;
}
