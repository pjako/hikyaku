prefix gen_
type i32 i32
type u32 u32
type f32 f32

enum Class : u32 {
  fighter = 0,
  mage = 1,
  summoner = 2
}

struct Achievements {
  u8 red;
  u8 green;
  u8 blue;
  u8 alpha;
}

struct PlayerState {
  u32 yaw? : 10;
  i32 posX? : 20;
  i32 posY? : 20;
  i32 posZ? : 20;
}

// a bitfield of a specific size with defined flags
// allowed it u8, u16, u32, u64
bitset PlayerFlags : u8 {
  isBanned, // 1 << 0
  emailConfirmed, // 1 << 1
  isAdmin // 1 << 2
}

// In C code this would look like this
//
// typedef enum PlayerFlags {
//   PlayerFlags_isBanned = 1 << 0;
//   PlayerFlags_emailConfirmed = 1 << 1;
//   PlayerFlags_isAdmin = 1 << 2;
// } PlayerFlags;
//
// typedef uint8_t playerFlagsBitField;

message Player {
  u32 id = 1;
  PlayerFlags flags = 2;
  Class class = 3;
  Achievements[] colors = 4;
  [removed] u32 extraSeq = 5;
  [deprecated] u32 extraSeq2 = 6;
  u32 extraSeq3 = 7;
}
